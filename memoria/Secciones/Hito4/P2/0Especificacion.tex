\section{Funciones para el conjunto de campos}

\begin{itemize}
    \item \texttt{nuevoConjunto()}: Crea un conjunto vac√≠o para almacenar los campos de un registro
    \item \texttt{contiene(set,id)}: Comprueba si el conjunto \texttt{set} contiene ya una entrada para el identificador \texttt{id}.
    \item \texttt{inserta(set,id)}: Inserta el identificador \texttt{id} en el conjunto \texttt{set}.
\end{itemize}

\section{Funciones de procesamiento}

var set

\begin{math}
    \textbf{pretipado}(\textbf{bloque}(SecDecs, \; SecIs)): \\
        \phantom{---} \textbf{pretipado}(SecDecs) \\
        \phantom{---} \textbf{pretipado}(SecIs)
\end{math}

\subsection{Declaraciones}

\begin{math}
    \textbf{pretipado}(\textbf{si\_decs}(LDecs)): \\
        \phantom{---} \textbf{pretipado}(LDecs) \\
    \\
    \textbf{pretipado}(\textbf{no\_decs()}): \textbf{noop} \\
    \\
    \textbf{pretipado}(\textbf{muchas\_decs}(LDecs, \; Dec)): \\
        \phantom{---} \textbf{pretipado}(LDecs) \\
        \phantom{---} \textbf{pretipado}(Dec) \\
    \\
    \textbf{pretipado}(\textbf{una\_dec}(Dec)): \\
        \phantom{---} \textbf{pretipado}(Dec) \\
    \\
    \textbf{pretipado}(\textbf{dec\_base}(TipoNom)): \\
        \phantom{---} \textbf{pretipado}(TipoNom) \\
    \\
    \textbf{pretipado}(\textbf{dec\_type}(TipoNom)): \\
        \phantom{---} \textbf{pretipado}(TipoNom) \\
    \\
    \textbf{pretipado}(\textbf{dec\_proc}(iden, \; ParamFs, \; Bloq)): \\
        \phantom{---} \textbf{pretipado}(ParamFs) \\
        \phantom{---} \textbf{pretipado}(Bloq) \\
    \\
    \textbf{pretipado}(\textbf{si\_params\_f}(LParamFs)): \\
        \phantom{---} \textbf{pretipado}(LParamFs) \\
    \\
    \textbf{pretipado}(\textbf{no\_params\_f()}): \textbf{noop} \\
    \\
    \textbf{pretipado}(\textbf{muchos\_params\_f}(LParamFs, \; ParamF)): \\
        \phantom{---} \textbf{pretipado}(LParamFs) \\
        \phantom{---} \textbf{pretipado}(ParamF) \\
    \\
    \textbf{pretipado}(\textbf{un\_param\_f}(ParamF)): \\
        \phantom{---} \textbf{pretipado}(ParamF) \\
    \\
    \textbf{pretipado}(\textbf{si\_refparam\_f}(Tipo, \; iden)): \\
        \phantom{---} \textbf{pretipado}(Tipo) \\
    \\
    \textbf{pretipado}(\textbf{no\_refparam\_f}(Tipo, \; iden)): \\
        \phantom{---} \textbf{pretipado}(Tipo)
\end{math}

\subsection{Tipos}

\begin{math}
    \textbf{pretipado}(\textbf{tipo\_nombre}(Tipo, \; iden)): \\
        \phantom{---} \textbf{pretipado}(Tipo) \\
    \\
    \textbf{pretipado}(\textbf{tipo\_array}(Tipo, \; litEntero)): \\
        \phantom{---} if \; litEntero \; < \; 0 \; then \\
            \phantom{------} \textbf{error} \\
        \phantom{---} endif \\
        \phantom{---} \textbf{pretipado}(Tipo) \\
    \\
    \textbf{pretipado}(\textbf{tipo\_indir}(Tipo)): \\
        \phantom{---} \textbf{pretipado}(Tipo) \\
    \\
    \textbf{pretipado}(\textbf{tipo\_struct}(LCampos)): \\
        \phantom{---} var \; tmp = set \\
        \phantom{---} set = nuevoConjunto() \\
        \phantom{---} \textbf{pretipado}(LCampos) \\
        \phantom{---} set = tmp \\
    \\
    \textbf{pretipado}(\textbf{tipo\_int}()): \textbf{noop} \\
    \\
    \textbf{pretipado}(\textbf{tipo\_real}()): \textbf{noop} \\
    \\
    \textbf{pretipado}(\textbf{tipo\_bool}()): \textbf{noop} \\
    \\
    \textbf{pretipado}(\textbf{tipo\_string}()): \textbf{noop} \\
    \\
    \textbf{pretipado}(\textbf{tipo\_type}(iden)): \\  
        \phantom{---} if \; \$.vinculo \; != \; dec\_type(\_) \; then \\
            \phantom{------} \textbf{error} \\
        \phantom{---} endif \\ 
    \\
    \textbf{pretipado}(\textbf{muchos\_campos}(LCampos, \; TipoNom(Tipo, \; iden))): \\
        \phantom{---} \textbf{pretipado}(LCampos) \\
        \phantom{---} \textbf{pretipado}(TipoNom) \\
        \phantom{---} if \; contiene(set, iden) \; then \\
            \phantom{------} \textbf{error} \\
        \phantom{---} else \\
            \phantom{------} inserta(set, iden) \\
        \phantom{---} endif \\
    \\
    \textbf{pretipado}(\textbf{un\_campo}(TipoNom(Tipo, \; iden))): \\
        \phantom{---} \textbf{pretipado}(TipoNom) \\
        \phantom{---} if \; contiene(set, iden) \; then \\
            \phantom{------} \textbf{error} \\
        \phantom{---} else \\
            \phantom{------} inserta(set, iden) \\
        \phantom{---} endif
\end{math}

\subsection{Instrucciones}

\begin{math}
    \textbf{pretipado}(\textbf{si\_ins}(LIs)): \\
        \phantom{---} \textbf{pretipado}(LIs) \\
    \\
    \textbf{pretipado}(\textbf{no\_ins()}): \textbf{noop} \\
    \\
    \textbf{pretipado}(\textbf{muchas\_ins}(LIs, \; I)): \\
        \phantom{---} \textbf{pretipado}(LIs) \\
        \phantom{---} \textbf{pretipado}(I) \\
    \\
    \textbf{pretipado}(\textbf{una\_ins}(I)): \\
        \phantom{---} \textbf{pretipado}(I) \\
    \\
    \textbf{pretipado}(\textbf{ins\_eval}(Exp)): \textbf{noop} \\
    \\
    \textbf{pretipado}(\textbf{ins\_if}(Exp, \; Bloq)): \\
        \phantom{---} \textbf{pretipado}(Bloq) \\
    \\
    \textbf{pretipado}(\textbf{ins\_if\_else}(I, \; Bloq)): \\
        \phantom{---} \textbf{pretipado}(I) \\
        \phantom{---} \textbf{pretipado}(Bloq) \\
    \\
    \textbf{pretipado}(\textbf{ins\_while}(Exp, \; Bloq)): \\
        \phantom{---} \textbf{pretipado}(Bloq) \\
    \\
    \textbf{pretipado}(\textbf{ins\_read}(Exp)): \textbf{noop} \\
    \\
    \textbf{pretipado}(\textbf{ins\_write}(Exp)): \textbf{noop} \\
    \\
    \textbf{pretipado}(\textbf{ins\_nl}()): \textbf{noop} \\
    \\
    \textbf{pretipado}(\textbf{ins\_new}(Exp)): \textbf{noop} \\
    \\
    \textbf{pretipado}(\textbf{ins\_delete}(Exp)): \textbf{noop} \\
    \\
    \textbf{pretipado}(\textbf{ins\_call}(iden, \; ParamRs)): \textbf{noop} \\
    \\
    \textbf{pretipado}(\textbf{ins\_bloque}(Bloq)): \\
        \phantom{---} \textbf{pretipado}(Bloq)
\end{math}
