\section{Gram√°tica s-atribuida}

\begin{math}
    programa \longrightarrow \; bloque \\
        \phantom{---} programa.\textbf{a} = bloque.\textbf{a} \\
    bloque \longrightarrow \; \{ seccion\_declaraciones\_opt \;\; seccion\_instrucciones\_opt \} \\
        \phantom{---} bloque.\textbf{a} = bloq(seccion\_declaraciones\_opt.\textbf{a}, \; seccion\_instrucciones\_opt.\textbf{a})
\end{math}

\subsection{Declaraciones}

\begin{math}
    seccion\_declaraciones\_opt \longrightarrow \; seccion\_declaraciones \; \&\& \\
        \phantom{---} seccion\_declaraciones\_opt.\textbf{a} = si\_decs(seccion\_declaraciones.\textbf{a}) \\
    seccion\_declaraciones\_opt \longrightarrow \; \epsilon \\
        \phantom{---} seccion\_declaraciones\_opt.\textbf{a} = no\_decs() \\
    seccion\_declaraciones \longrightarrow \; seccion\_declaraciones \; ; \; declaracion \\
        \phantom{---} seccion\_declaraciones_0.\textbf{a} = muchas\_decs(seccion\_declaraciones_1.\textbf{a}, \; declaracion.\textbf{a}) \\
    seccion\_declaraciones \longrightarrow \; declaracion \\
        \phantom{---} seccion\_declaraciones.\textbf{a} = una\_dec(declaracion.\textbf{a}) \\
    declaracion \longrightarrow \; tipo\_nombre \\
        \phantom{---} declaracion.\textbf{a} = dec\_base(tipo\_nombre.\textbf{a}) \\
    declaracion \longrightarrow \; \textbf{type} \; tipo\_nombre \\
        \phantom{---} declaracion.\textbf{a} = dec\_type(tipo\_nombre.\textbf{a}) \\
    declaracion \longrightarrow \; \textbf{proc} \; \textbf{identificador} \; parametros\_formales \; bloque\\
        \phantom{---} declaracion.\textbf{a} = dec\_proc(\textbf{identificador.lex}, \; parametros\_formales.\textbf{a}, \; bloque.\textbf{a}) \\
    parametros\_formales \longrightarrow \; ( lista\_parametros\_opt ) \\
        \phantom{---} parametros\_formales.\textbf{a} = lista\_parametros\_opt.\textbf{a} \\
    lista\_parametros\_opt \longrightarrow \; lista\_parametros \\
        \phantom{---} lista\_parametros\_opt.\textbf{a} = si\_params\_f(lista\_parametros.\textbf{a}) \\
    lista\_parametros\_opt \longrightarrow \; \epsilon \\
        \phantom{---} lista\_parametros\_opt.\textbf{a} = no\_params\_f() \\
    lista\_parametros \longrightarrow \; lista\_parametros \; , \; parametro \\
        \phantom{---} lista\_parametros_0.\textbf{a} = muchos\_params\_f(lista\_parametros_1.\textbf{a}, \; parametro.\textbf{a}) \\
    lista\_parametros \longrightarrow \; parametro \\
        \phantom{---} lista\_parametros.\textbf{a} = un\_param\_f(parametro.\textbf{a}) \\
    parametro \longrightarrow \; tipo \; \& \; \textbf{identificador} \\
        \phantom{---} parametro.\textbf{a} = si\_refparam\_f(tipo.\textbf{a}, \; \textbf{identificador.lex}) \\
    parametro \longrightarrow \; tipo \; \textbf{identificador} \\
        \phantom{---} parametro.\textbf{a} = no\_refparam\_f(tipo.\textbf{a}, \; \textbf{identificador.lex})
\end{math}

\subsection{Tipos}

\begin{math}
    tipo\_nombre \longrightarrow \; tipo \; \textbf{identificador} \\
        \phantom{---} tipo\_nombre.\textbf{a} = tipo\_nombre(tipo.\textbf{a}, \; \textbf{identificador.lex}) \\
    tipo \longrightarrow \; tipo0 \\
        \phantom{---} tipo.\textbf{a} = tipo0.\textbf{a} \\
    tipo0 \longrightarrow \; tipo0 \; [\textbf{literalEntero}] \\
        \phantom{---} tipo0_0.\textbf{a} = tipo\_array(tipo0_1.\textbf{a}, \; \textbf{literalEntero.lex}) \\
    tipo0 \longrightarrow \; tipo1 \\
        \phantom{---} tipo0.\textbf{a} = tipo1.\textbf{a} \\
    tipo1 \longrightarrow \; \hat{} \; tipo1 \\
        \phantom{---} tipo1_0.\textbf{a} = tipo\_indir(tipo1_1.\textbf{a}) \\
    tipo1 \longrightarrow \; tipo\_base \\
        \phantom{---} tipo1.\textbf{a} = tipo\_base.\textbf{a} \\
    tipo\_base \longrightarrow \; \textbf{struct} \; \{ lista\_campos \} \\
        \phantom{---} tipo\_base.\textbf{a} = tipo\_struct(lista\_campos.\textbf{a}) \\
    tipo\_base \longrightarrow \; \textbf{int} \\
        \phantom{---} tipo\_base.\textbf{a} = tipo\_int() \\
    tipo\_base \longrightarrow \; \textbf{real} \\
        \phantom{---} tipo\_base.\textbf{a} = tipo\_real() \\
    tipo\_base \longrightarrow \; \textbf{bool} \\
        \phantom{---} tipo\_base.\textbf{a} = tipo\_bool() \\
    tipo\_base \longrightarrow \; \textbf{string} \\
        \phantom{---} tipo\_base.\textbf{a} = tipo\_string() \\
    tipo\_base \longrightarrow \; \textbf{identificador} \\
        \phantom{---} tipo\_base.\textbf{a} = tipo\_type(\textbf{identificador.lex}) \\
    lista\_campos \longrightarrow \; lista\_campos \; , \; tipo\_nombre \\
        \phantom{---} lista\_campos_0.\textbf{a} = muchos\_campos(lista\_campos_1.\textbf{a}, \; tipo\_nombre.\textbf{a}) \\
    lista\_campos \longrightarrow \; tipo\_nombre \\
        \phantom{---} lista\_campos.\textbf{a} = un\_campo(tipo\_nombre.\textbf{a})
\end{math}

\subsection{Instrucciones}

\begin{math}
    seccion\_instrucciones\_opt \longrightarrow \; seccion\_instrucciones \\
        \phantom{---} seccion\_instrucciones\_opt.\textbf{a} = si\_ins(seccion\_instrucciones.\textbf{a}) \\
    seccion\_instrucciones\_opt \longrightarrow \; \epsilon \\
        \phantom{---} sseccion\_instrucciones\_opt.\textbf{a} = no\_ins() \\
    seccion\_instrucciones \longrightarrow \; lista\_instrucciones \\
        \phantom{---}seccion\_instrucciones.\textbf{a} = lista\_instrucciones.\textbf{a} \\
    lista\_instrucciones \longrightarrow \; lista\_instrucciones \; ; \; instruccion \\
        \phantom{---} lista\_instrucciones_0.\textbf{a} = muchas\_ins(lista\_instrucciones_1.\textbf{a}, \; instruccion.\textbf{a}) \\
    lista\_instrucciones \longrightarrow \; instruccion \\
        \phantom{---} lista\_instrucciones.\textbf{a} = una\_ins(instruccion.\textbf{a}) \\
    instruccion \longrightarrow \; @ \; expresion \\
        \phantom{---} instruccion.\textbf{a} = ins\_eval(expresion.\textbf{a}) \\
    instruccion \longrightarrow \; if\_ins \\
        \phantom{---} instruccion.\textbf{a} = if\_ins.\textbf{a} \\
    instruccion \longrightarrow \; if\_ins \; \textbf{else} \; bloque \\
        \phantom{---} instruccion.\textbf{a} = ins\_if\_else(if\_ins.\textbf{a}, \; bloque_1.\textbf{a}) \\
    instruccion \longrightarrow \; \textbf{while} \;  expresion \; bloque \\
        \phantom{---} instruccion.\textbf{a} = ins\_while(expresion.\textbf{a}, \; bloque.\textbf{a}) \\
    instruccion \longrightarrow \; \textbf{read} \; expresion \\
        \phantom{---} instruccion.\textbf{a} = ins\_read(expresion.\textbf{a}) \\
    instruccion \longrightarrow \; \textbf{write} \; expresion \\
        \phantom{---} instruccion.\textbf{a} = ins\_write(expresion.\textbf{a}) \\
    instruccion \longrightarrow \; \textbf{nl} \\
        \phantom{---} instruccion.\textbf{a} = ins\_nl() \\
    instruccion \longrightarrow \; \textbf{new} \; expresion \\
        \phantom{---} instruccion.\textbf{a} = ins\_new(expresion.\textbf{a}) \\
    instruccion  \longrightarrow \; \textbf{delete} \; expresion \\
        \phantom{---} instruccion.\textbf{a} = ins\_delete(expresion.\textbf{a}) \\
    instruccion \longrightarrow \; \textbf{call} \; \textbf{identificador} \; parametros\_reales \\
        \phantom{---} instruccion.\textbf{a} = ins\_call(\textbf{identificador.lex}, \; parametros\_reales.\textbf{a}) \\
    instruccion \longrightarrow \; bloque \\
        \phantom{---} instruccion.\textbf{a} = ins\_bloque(bloque.\textbf{a}) \\
    if\_ins \longrightarrow \; \textbf{if} \; expresion \; bloque \\
        \phantom{---} if\_ins.\textbf{a} = ins\_if(expresion.\textbf{a}, \; bloque.\textbf{a}) \\
    parametros\_reales \longrightarrow \; ( lista\_expresiones\_opt ) \\
        \phantom{---} parametros\_reales.\textbf{a} = lista\_expresiones\_opt.\textbf{a} \\
    lista\_expresiones\_opt \longrightarrow \; lista\_expresiones \\
        \phantom{---} lista\_expresiones\_opt.\textbf{a} = si\_params\_r(lista\_expresiones.\textbf{a}) \\
    lista\_expresiones\_opt \longrightarrow \; \epsilon \\
        \phantom{---} lista\_expresiones\_opt.\textbf{a} = no\_params\_r() \\
    lista\_expresiones \longrightarrow \; lista\_expresiones \; , \; expresion \\
        \phantom{---} lista\_expresiones_0.\textbf{a} = muchos\_params\_r(lista\_expresiones_1.\textbf{a}, \; expresion.\textbf{a}) \\
    lista\_expresiones \longrightarrow \; expresion \\
        \phantom{---} lista\_expresiones.\textbf{a} = un\_param\_r(expresion.\textbf{a})
\end{math}

\subsection{Expresiones}

\begin{math}
    expresion \longrightarrow \; E0 \\
        \phantom{---} expresion.\textbf{a} = E0.\textbf{a} \\
    E0 \longrightarrow \; E1 \; = \; E0 \\
        \phantom{---} E0_0.\textbf{a} = mkopbin("=", \; E1.\textbf{a}, \; E0_1.\textbf{a}) \\
    E0 \longrightarrow \; E1 \\
        \phantom{---} E0.\textbf{a} = E1.\textbf{a} \\
    E1 \longrightarrow \; E1 \; op\_relacional \; E2 \\
        \phantom{---} E1_0.\textbf{a} = mkopbin(op\_relacional.\textbf{op}, \; E1_1.\textbf{a}, \; E2.\textbf{a}) \\
    E1 \longrightarrow \; E2 \\
        \phantom{---} E1.\textbf{a} = E2.\textbf{a} \\
    E2 \longrightarrow \; E2 \; + \; E3 \\
        \phantom{---} E2_0.\textbf{a} = mkopbin("+", \; E2_1.\textbf{a}, \; E3.\textbf{a}) \\
    E2 \longrightarrow \; E3 \; - \; E3 \\
        \phantom{---} E2.\textbf{a} = mkopbin("-", \; E3_0.\textbf{a}, \; E3_1.\textbf{a})\\
    E2 \longrightarrow \; E3 \\
        \phantom{---} E2.\textbf{a} = E3.\textbf{a} \\
    E3 \longrightarrow \; E4 \; \textbf{and} \; E3 \\
        \phantom{---} E3_0.\textbf{a} = mkopbin("and", E4.\textbf{a}, \; E3_1.\textbf{a}) \\
    E3 \longrightarrow \; E4 \; \textbf{or} \; E4 \\
        \phantom{---} E3.\textbf{a} = mkopbin("or", E4_0.\textbf{a}, \; E4_1.\textbf{a}) \\
    E3 \longrightarrow \; E4 \\
        \phantom{---} E3.\textbf{a} = E4.\textbf{a} \\
    E4 \longrightarrow \; E4 \; op\_mult \; E5 \\
        \phantom{---} E4_0.\textbf{a} = mkopbin(op\_mult.\textbf{op}, \; E4_1.\textbf{a}, \; E5.\textbf{a}) \\
    E4 \longrightarrow \; E5 \\
        \phantom{---} E4.\textbf{a} = E5.\textbf{a} \\
    E5  \longrightarrow \; - \; E5 \\
        \phantom{---} E5_0.\textbf{a} = exp\_menos(E5.\textbf{a}) \\   
    E5 \longrightarrow \; \textbf{not} \; E5 \\
        \phantom{---} E5_0.\textbf{a} = exp\_not(E5.\textbf{a}) \\
    E5 \longrightarrow \; E6 \\
        \phantom{---} E5.\textbf{a} = E6.\textbf{a} \\
    E6 \longrightarrow \; E6 \; [ expresion ] \\
        \phantom{---} E6_0.\textbf{a} = exp\_index(E6_1.\textbf{a}, expresion.\textbf{a}) \\
    E6 \longrightarrow \; E6 \; . \; \textbf{identificador} \\
        \phantom{---} E6_0.\textbf{a} = exp\_ref(E6_1.\textbf{a}, \textbf{identificador.lex}) \\
    E6 \longrightarrow \; E6 \; \hat{} \\
        \phantom{---} E6_0.\textbf{a} = exp\_indir(E6_1.\textbf{a}) \\
    E6 \longrightarrow \; E7 \\
        \phantom{---} E6.\textbf{a} = E7.\textbf{a} \\  
    E7 \longrightarrow \; expresion\_basica \\
        \phantom{---} E7.\textbf{a} = expresion\_basica.\textbf{a} \\
    E7 \longrightarrow \; (E0) \\
        \phantom{---} E7.\textbf{a} = E0.\textbf{a} \\
    expresion\_basica \longrightarrow \; \textbf{literalEntero} \\
        \phantom{---} expresion\_basica.\textbf{a} = exp\_entero(\textbf{literalEntero.lex}) \\
    expresion\_basica \longrightarrow \; \textbf{literalReal} \\
        \phantom{---} expresion\_basica.\textbf{a} = exp\_real(\textbf{literalReal.lex}) \\
    expresion\_basica \longrightarrow \; \textbf{true} \\
        \phantom{---} expresion\_basica.\textbf{a} = exp\_true() \\
    expresion\_basica \longrightarrow \; \textbf{false} \\
        \phantom{---} expresion\_basica.\textbf{a} = exp\_false() \\
    expresion\_basica \longrightarrow \; \textbf{literalCadena} \\
        \phantom{---} expresion\_basica.\textbf{a} = exp\_cadena(\textbf{literalCadena.lex}) \\
    expresion\_basica \longrightarrow \; \textbf{identificador} \\
        \phantom{---} expresion\_basica.\textbf{a} = exp\_iden(\textbf{identificador.lex}) \\
    expresion\_basica \longrightarrow \; \textbf{null} \\
        \phantom{---} expresion\_basica.\textbf{a} = exp\_null()
\end{math}

\subsection{Operadores}

\begin{math}
    op\_relacional \longrightarrow \; < \\
        \phantom{---} op\_relacional.\textbf{op} = \; "<" \\
    op\_relacional \longrightarrow \; <= \\
        \phantom{---} op\_relacional.\textbf{op} = \; "<=" \\
    op\_relacional \longrightarrow \; > \\
        \phantom{---} op\_relacional.\textbf{op} = \; ">" \\
    op\_relacional \longrightarrow \; >= \\
        \phantom{---} op\_relacional.\textbf{op} = \; ">=" \\
    op\_relacional \longrightarrow \; == \\
        \phantom{---} op\_relacional.\textbf{op} = \; "==" \\
    op\_relacional \longrightarrow \; != \\
        \phantom{---} op\_relacional.\textbf{op} = \; "!=" \\
    op\_mult \longrightarrow \; * \\
        \phantom{---} op\_mult.\textbf{op} = \; "*" \\
    op\_mult \longrightarrow \; / \\
        \phantom{---} op\_mult.\textbf{op} = \; "/" \\
    op\_mult \longrightarrow \% \\
        \phantom{---} op\_mult.\textbf{op} = \; "\%"
\end{math}